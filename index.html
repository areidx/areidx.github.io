<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 6.0.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-日版xz1c在linux下的刷机" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/04/04/%E6%97%A5%E7%89%88xz1c%E5%9C%A8linux%E4%B8%8B%E7%9A%84%E5%88%B7%E6%9C%BA/" class="article-date">
  <time class="dt-published" datetime="2022-04-03T22:02:00.000Z" itemprop="datePublished">2022-04-04</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/04/04/%E6%97%A5%E7%89%88xz1c%E5%9C%A8linux%E4%B8%8B%E7%9A%84%E5%88%B7%E6%9C%BA/">日版xz1c在linux下的刷机</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h1><p>因为在咸鱼上买的日版xz1c好像找不到什么教程(特别是我还用的linux😢),在自己胡乱的摸索下记录一下刷机的过程,希望可以提供参考.本文不提供现成的文件只有链接请自行下载需要的软件或者固件</p>
<h1 id="大致流程"><a href="#大致流程" class="headerlink" title="大致流程"></a>大致流程</h1><ol>
<li><p>日版基本都不能解bl锁,我先去淘宝解锁了(200大洋😢).</p>
</li>
<li><p>解bl(bootloader)锁.</p>
</li>
<li><p>刷twrp到recovery分区</p>
</li>
<li><p>magisk root</p>
</li>
</ol>
<h1 id="手机和电脑环境"><a href="#手机和电脑环境" class="headerlink" title="手机和电脑环境"></a>手机和电脑环境</h1><p>手机:  xperia xz1c SO-02k 日版docomo<br>固件版本: 47.2B.5.38 安卓9<br>电脑环境: archlinux<br>使用的软件: mono(XperiFirm需要使用到)  FlashTool unsin AIK-linux fdm(下载)</p>
<h1 id="具体流程"><a href="#具体流程" class="headerlink" title="具体流程"></a>具体流程</h1><ol>
<li><p>adb安装 arch直接安装android-tools 即可<code>sudo pacman -S android-tools</code>;安装之后手机关机状态下按住音量上不放连接电脑会亮起蓝灯(可以刷rec,解bl锁等),音量下进入绿灯(强刷)</p>
</li>
<li><p>强刷日版版本</p>
<ul>
<li><p>安装mono <code>sudo pacman -S mono</code></p>
</li>
<li><p>下载<a target="_blank" rel="noopener" href="https://xperifirm.com/">Xperifirm</a></p>
</li>
<li><p>运行下载 <code>mono XperiFirm-x64.exe</code><br> <img src="/images/%E6%97%A5%E7%89%88xz1c%E5%9C%A8linux%E4%B8%8B%E7%9A%84%E5%88%B7%E6%9C%BA/XperiFirm-man.png" alt="主界面"><br><img src="/../images/%E6%97%A5%E7%89%88xz1c%E5%9C%A8linux%E4%B8%8B%E7%9A%84%E5%88%B7%E6%9C%BA/XperiFirm-download-page.png" alt="下载界面"><br>点击下载会开始下载然后自动打包但是因为国内的网络环境问题可能中断(这中断就会重新开始下载),所以我这里用Manual.简单解释一下 按照要求创建文件夹(注意有空格用单引号或者双引号),创建子文件夹,使用工具下载制定文件即可(我使用的fdm);等待下载完毕点击 Merge 选择文件夹等待即可<br><img src="/../images/%E6%97%A5%E7%89%88xz1c%E5%9C%A8linux%E4%B8%8B%E7%9A%84%E5%88%B7%E6%9C%BA/XperiFirm-download-marge.png" alt="下载"><br>好了之后文件是这样的(newflasher.x64不是下载的文件)<br><img src="/../images/%E6%97%A5%E7%89%88xz1c%E5%9C%A8linux%E4%B8%8B%E7%9A%84%E5%88%B7%E6%9C%BA/XperiFirm-files.png"><br>使用Flashtool把文件夹打包然后后缀改成ftf即可,这里我为了方便直接使用newflasher <a target="_blank" rel="noopener" href="https://forum.xda-developers.com/t/tool-newflasher-xperia-command-line-flasher.3619426/">xda链接</a> 下载解压放进这个文件夹下 linux使用 i686 x64 x86都行 给执行权限就行 win请用exe应该点击就行<br>手机绿灯连接,输入n  n 等待刷进去即可</p>
</li>
</ul>
</li>
<li><p>解bl锁</p>
<ul>
<li>先申请解锁码 <a target="_blank" rel="noopener" href="https://developer.sony.com/develop/open-devices/get-started/unlock-bootloader#unlock-code">网站</a> 最下面选择设备输入imei码(拨号界面输入*#06#,没有拨号器的话可以在关于手机看到,不能开机一般在sim卡那里会有个小纸条拉出来也有)提交即可<br><img src="/../images/%E6%97%A5%E7%89%88xz1c%E5%9C%A8linux%E4%B8%8B%E7%9A%84%E5%88%B7%E6%9C%BA/sony-bl-webpage.png" alt="申请界面"></li>
<li>解锁<br>有了解锁码蓝灯模式连接电脑 输入 <code>fastboot oem unlock 0x解锁码</code> 等待解锁即可<br>解开之后在拨号界面输入 <code>*#*#7378423#*#*</code> 然后选择 Service info &gt; Configuration &gt; Rooting Status 如果是 Bootloader unlocked: Yes 就是解锁成功</li>
</ul>
</li>
<li><p>刷入rec<br>下载rec <a target="_blank" rel="noopener" href="https://forum.xda-developers.com/t/recovery-twrp-3-3-1-0-lilac-update-2019-09-16.3706704/">xda</a><br>手机蓝灯模式连接 输入<code>fastboot flash recovery 文件名</code> 等待即可</p>
</li>
<li><p>magisk root<br>需要这个版本的固件的boot文件我这个日版刷机文件里没有需要一些操作</p>
<ul>
<li><p>得到boot.img<br>下载<a target="_blank" rel="noopener" href="https://forum.xda-developers.com/t/tool-unsin-sin-v3-v4-v5-unpacker-v1-13.3128106/">unsin</a>相应文件,解压<br>把固件里面根目录下的kernel_xxx.sin的文件放在这个unsin一起 <code>./unsin 文件名</code> 即可会得到同名的.img的文件;已经能直接使用了但是好像5II还有几个什么的不能直接用,还需要使用AIK 修改东西这里顺便写一下(其他的应该是boot_xxx.sin这个文件)<br>下载 <a target="_blank" rel="noopener" href="https://forum.xda-developers.com/t/tool-android-image-kitchen-unpack-repack-kernel-ramdisk-win-android-linux-mac.2073775/">AIK-Linux</a>解压<br>把解密的img文件复制到这个目录下 <code>./unpackimg.sh 文件名</code><br>成功会在这个目录下得到ramdisk文件夹 结构:<br><img src="/../images/%E6%97%A5%E7%89%88xz1c%E5%9C%A8linux%E4%B8%8B%E7%9A%84%E5%88%B7%E6%9C%BA/AIK-unpack.png"><br>5ii应该会有一个 fatab.qcom文件 注释 system_ext这一行 </p>
<p>运行 <code>./repackimg.sh</code> 重新打包得到的就是需要的boot.img文件</p>
</li>
<li><p>magisk安装<br>下载<a target="_blank" rel="noopener" href="https://github.com/topjohnwu/Magisk/releases">magisk</a>安装<br>选择安装magisk &gt; 修改一个文件 选择之前得到的img文件 等待然后会生成一个magisk修改之后的boot文件,可以把这个文件复制进sd卡.(因为我这个日版直接放在手机里面进去rec找不到了)<br>在关机状态下按住关机键和音量下按键等警告界面消失放开 进入rec 选择install 选择存储地方 选择 刷img(右下角那个) 选择之前制作的magisk修补之后的img文件刷进boot分区,刷写成功重启进入手机即可.</p>
</li>
</ul>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/04/04/%E6%97%A5%E7%89%88xz1c%E5%9C%A8linux%E4%B8%8B%E7%9A%84%E5%88%B7%E6%9C%BA/" data-id="cl1ngk514000243fzgimqbnqz" data-title="日版xz1c在linux下的刷机" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-demo-test" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/02/17/demo-test/" class="article-date">
  <time class="dt-published" datetime="2022-02-17T15:43:54.000Z" itemprop="datePublished">2022-02-17</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/02/17/demo-test/">demo-test</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="一级标题"><a href="#一级标题" class="headerlink" title="一级标题"></a>一级标题</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ls -la</span><br><span class="line">lsblk -f</span><br><span class="line">whoami</span><br></pre></td></tr></table></figure>

<h2 id="二级标题"><a href="#二级标题" class="headerlink" title="二级标题"></a>二级标题</h2><p>这是什么语言</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">hello</span>&#123;</span><br><span class="line">pbulic <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(args [])</span>&#123;</span><br><span class="line">System.out.prinlt(<span class="string">&quot;Hello Hexo&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="三年级"><a href="#三年级" class="headerlink" title="三年级"></a>三年级</h3><ul>
<li>1</li>
<li>2<ul>
<li>1</li>
<li>2<ul>
<li>1    </li>
<li>2</li>
</ul>
</li>
</ul>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/02/17/demo-test/" data-id="cl1ngk50y000043fz2v87cd29" data-title="demo-test" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-hello-world" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/02/17/hello-world/" class="article-date">
  <time class="dt-published" datetime="2022-02-17T14:10:15.435Z" itemprop="datePublished">2022-02-17</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/02/17/hello-world/">Hello World</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>Welcome to <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a target="_blank" rel="noopener" href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a target="_blank" rel="noopener" href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/02/17/hello-world/" data-id="cl1ngk512000143fz2bz5b0hq" data-title="Hello World" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  


</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/04/">April 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/02/">February 2022</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2022/04/04/%E6%97%A5%E7%89%88xz1c%E5%9C%A8linux%E4%B8%8B%E7%9A%84%E5%88%B7%E6%9C%BA/">日版xz1c在linux下的刷机</a>
          </li>
        
          <li>
            <a href="/2022/02/17/demo-test/">demo-test</a>
          </li>
        
          <li>
            <a href="/2022/02/17/hello-world/">Hello World</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2022 John Doe<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>